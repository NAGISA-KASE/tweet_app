# 変更前updateアクション

def update
  	@user = User.find_by(id: params[:id])
  	@user.name = params[:name]
  	@user.email = params[:email]
    @user.introduction = params[:introduction]
    @user.avatar = params[:avatar]

  	if params[:image]
	  	@user.image_name = "#{@user.id}.jpg"
  		image = params[:image]
  		File.binwrite("public/user_images/#{@user.image_name}", image.read)
  	end

  	if @user.save
  		flash[:notice] = "ユーザー情報を編集しました"
  		redirect_to("/users/#{@user.id}")
  	else
  		render("users/edit")
  	end
  end

# 変更前editビュー
        <%= form_tag("/users/#{@user.id}/update", {multipart: true}) do %>
          <p>名前</p>
          <input name="name" value="<%= @user.name %>">
          <p>アイコン</p>
          <input type="file" name="image">
          <input name="introduction" value="<%= @user.introduction %>" placeholder="自己紹介">
          <p>メールアドレス</p>
          <input  name="email" value="<%= @user.email %>">
          <p><input type="submit" value="保存" class="btn"></p>
        <% end %>